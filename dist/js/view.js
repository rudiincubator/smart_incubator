const{h:h}=preact,{useState:useState,useEffect:useEffect,useRef:useRef}=preactHooks;function Nav({onNav:e}){const[a,t]=useState(!1);function n(a){e(a),t(!1)}return h("nav",null,h("div",{className:"container"},h("div",{className:"brand"},"Smart Incubator"),h("div",{className:a?"toggle active":"toggle",onClick:function(){t(e=>!e)}},h("span"),h("span"),h("span")),h("div",{className:a?"menu active":"menu"},h("a",{href:"#",onClick:()=>n("home")},"Beranda"),h("a",{href:"#",onClick:()=>n("setting")},"Pengaturan"),h("a",{href:"#",onClick:()=>n("auth")},"Keluar"))))}function Footer(){const e=2025,a=(new Date).getFullYear();return h("footer",null,h("div",{className:"footer-content"},h("p",null,`© ${e===a?e:`2025-${a}`} Smart Incubator By:`,h("a",{href:"https://www.facebook.com/rudiromeodelta",target:"_blank",rel:"noopener noreferrer"},"Romeo Delta"))))}function CardInfo({title:e,value:a,description:t}){return h("div",{className:"card"},h("h3",{className:"info-title"},e),h("div",{className:"info-value"},a),h("p",{className:"info-description"},t))}function RelayCard({relayName:e,status:a}){return h("div",{className:"relay-item"},h("span",{className:"relay-name"},e),h("div",{className:`status-circle ${a}`}))}function Table({header:e,data:a,idKey:t="id"}){return h("div",{className:"table-wrapper"},h("table",null,h("thead",null,h("tr",null,e.map((e,a)=>h("th",{key:`h-${a}`},e)))),h("tbody",null,a.map((e,a)=>{const n=void 0!==e[t]&&null!==e[t]?e[t]:`row-${a}`;return h("tr",{key:n},Object.entries(e).map(([e,a],t)=>h("td",{key:`${n}-cell-${t}`},a)))}))))}function Home(){const e=["Waktu","Suhu ℃","Kelembaban %"];return h("div",{className:"main-section"},h("h1",null,"Informasi"),h("div",{className:"section"},h("div",{className:"section"},h("div",{className:"section-grid"},h(CardInfo,{title:"Waktu",value:"12:21",description:"date"}),h(CardInfo,{title:"Mode",value:"Auto",description:"Ayam Elba"}),h(CardInfo,{title:"Suhu",value:"36.3 ℃",description:"Target: 38.0"}),h(CardInfo,{title:"Kelembaban",value:"57 %",description:"Target: 60"})),h("spacer"),h("div",{className:"section-grid relay"},h(RelayCard,{relayName:"Pemanas",status:"on"}),h(RelayCard,{relayName:"Pelembab",status:"on"}),h(RelayCard,{relayName:"Pembalik",status:"off"}),h(RelayCard,{relayName:"Kipas",status:"on"}))),h("spacer"),h("div",{className:"section"},h("h2",null,"Suhu Dan Kelembaban"),h(Table,{header:e,data:[{time:"10:12",temperature:35.6,humidity:62},{time:"10:15",temperature:36,humidity:63},{time:"10:18",temperature:36.5,humidity:64}],idKey:"time"})),h("spacer"),h("div",{className:"section"},h("div",{className:"card-header-row"},h("h2",null,"Data Telur"),h("div",{className:"right-group"},h("p",null,"Jumlah:"),h("p",null,"200"))),h(Table,{header:["Kode","Jenis","Jumlah","Tanggal Masuk","Tanggal Menetas","Status"],data:[{kode:"T001",type:"Ayam Kampung",quantity:"10",dateIn:"01/12/2025",dateHatch:"21/12/2025,",status:"Inkubasi"},{kode:"T002",type:"Ayam Elba",quantity:"20",dateIn:"06/12/2025",dateHatch:"21/12/2025,",status:"Inkubasi"},{kode:"T003",type:"Ayam Bangkok",quantity:"5",dateIn:"12/12/2025",dateHatch:"21/12/2025,",status:"Inkubasi"}],idKey:"kode"}))))}function SetDatetime(){return h("div",{className:"card"},h("h2",null,"Waktu dan Tanggal"),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"setTime"},"Waktu"),h("input",{type:"time",id:"setTime"}),h("label",{htmlFor:"setDate"},"Tanggal"),h("input",{type:"date",id:"setDate"}),h("button",null,"Sync"))),h("button",{className:"btn-save"},"Simpan"))}function SetIncubator(){const e=[{startDate:"2025-12-01",endDate:"2025-12-03",temperature:38,humidity:60,turner:0,description:"Pembentukan Embrio"},{startDate:"2025-11-04",endDate:"2025-11-15",temperature:38,humidity:60,turner:8,description:"Pemerataan nutrisi, suhu pada telur"},{startDate:"2025-11-16",endDate:"2025-11-18",temperature:37.5,humidity:70,turner:5,description:"Persiapan penetesan"},{startDate:"2025-11-19",endDate:"2025-11-21",temperature:37,humidity:75,turner:0,description:"Masa penetasan"}],[a,t]=useState(!1),[n,l]=useState(e);const r=e=>e.includes("Date")?"date":"temperature"===e||"humidity"===e||"turner"===e?"number":"text";return h("div",{className:"section"},h("div",{className:"card-header"},h("h2",null,"Incubator"),h("div",{className:"right-group"},h("div",{className:"form-group"},h("label",{htmlFor:"incubatorOption"},"Pilih Jenis Telur"),h("select",{id:"incubatorOption"},h("option",{value:"ayam"},"Ayam"),h("option",{value:"bebek"},"Bebek"),h("option",{value:"kalkun"},"Kalkun"))))),h("spacer"),h("div",{className:"table-wrapper"},h("table",{className:a?"table-input":""},h("thead",null,h("tr",null,["Mulai Tanggal","Hingga Tanggal","Suhu (°C)","Kelembaban (%)","Pembalik (jam)","Keterangan"].map((e,a)=>h("th",{key:a},e)))),h("tbody",null,n.map((e,t)=>h("tr",{key:t,className:"incRow"},Object.entries(e).map(([e,n],l)=>h("td",{key:`${t}-${l}`},a?h("input",{type:r(e),value:n,step:"temperature"===e?.1:"humidity"===e?1:void 0,min:"temperature"===e||"humidity"===e||"turner"===e?0:void 0}):n))))))),h("div",{className:a?"btn-incubator":"btn-edit"},a&&h("button",{onClick:function(){const e=(new Date).toISOString().split("T")[0];l(a=>[...a,{startDate:e,endDate:e,temperature:"",humidity:"",turner:"",description:""}])}},"Tambah"),h("button",{onClick:a?function(){l(e),t(!1)}:function(){t(e=>!e)}},a?"Batal":"Ubah"),a&&h("button",{onClick:()=>{const e=[...document.querySelectorAll(".incRow")].map(e=>{const a=[...e.querySelectorAll("input")];return{startDate:a[0].value,endDate:a[1].value,temperature:Number(a[2].value),humidity:Number(a[3].value),turner:Number(a[4].value),description:a[5].value}});console.log("Updated Data:",e)}},"Simpan")),h("spacer"),h("h4",null,"Toleransi:"),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"temperatureTolerance"},"Suhu"),h("input",{type:"number",step:.1,min:0,max:15,id:"temperatureTolerance"})),h("div",{className:"form-group"},h("label",{htmlFor:"humidityTolerance"},"Kelembaban"),h("input",{type:"number",step:1,min:0,max:20,id:"humidityTolerance"}))))}function SetWiFi(){return h("div",{className:"section"},h("h2",null,"WiFi"),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"wifiSSID"},"SSID"),h("input",{type:"text",id:"wifiSSID"})),h("div",{className:"form-group"},h("label",{htmlFor:"wifiPass"},"Kata Sandi"),h("input",{type:"text",id:"wifiPass"}))),h("button",{className:"btn-save"},"Simpan"))}function SetTelegram(){return h("div",{className:"section"},h("h2",null,"Telegram"),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"tgToken"},"ID Token"),h("input",{type:"text",id:"tgToken"})),h("div",{className:"form-group"},h("label",{htmlFor:"tgChatID"},"ID Obrolan"),h("input",{type:"text",id:"tgChatID"})),h("div",{className:"form-group"},h("label",{htmlFor:"tgInterval"},"Waktu Jeda"),h("input",{type:"number",min:1,id:"tgInterval"})),h("div",{className:"form-group"},h("label",{htmlFor:"tgEnable"},"Aktifkan"),h("select",{id:"tgEnable"},h("option",{value:"true"},"Ya"),h("option",{value:"false"},"Tidak")),h("button",null,"Uji"))),h("button",{className:"btn-save"},"Simpan"))}function SetGAS(){return h("div",{className:"section"},h("h2",null,"Google Apps Script"),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"gasDeploymentID"},"ID Penerapan"),h("input",{type:"text",id:"gasDeploymentID"})),h("div",{className:"form-group"},h("label",{htmlFor:"gasSheetID"},"ID Lembar"),h("input",{type:"text",id:"gasSheetID"})),h("div",{className:"form-group"},h("label",{htmlFor:"gasInterval"},"Waktu Jeda"),h("input",{type:"number",min:1,id:"gasInterval"})),h("div",{className:"form-group"},h("label",{htmlFor:"gasEnable"},"Aktifkan"),h("select",{id:"gasEnable"},h("option",{value:"true"},"Ya"),h("option",{value:"false"},"Tidak")),h("button",null,"Uji"))),h("button",{className:"btn-save"},"Simpan"))}function SetChangePassword(){return h("div",{className:"section change-password"},h("h2",null,"Ubah Kata Sandi Admin"),h("div",{className:"form-group"},h("label",{htmlFor:"oldPassword"},"Kata Sandi Lama"),h("input",{type:"password",id:"oldPassword"})),h("div",{className:"form-row"},h("div",{className:"form-group"},h("label",{htmlFor:"newPassword"},"Kata Sandi Baru"),h("input",{type:"password",id:"newPassword"})),h("div",{className:"form-group"},h("label",{htmlFor:"passwordConfirm"},"Konfirmasi Kata Sandi"),h("input",{type:"password",id:"passwordConfirm"}))),h("button",{className:"btn-save"},"Simpan"))}function SetRelay(){return h("div",{className:"section"},h("h2",null,"Relay"),h("div",{className:"section-grid"},h("div",{className:"form-row relay"},h("div",{className:"form-group"},h("label",{htmlFor:"relayHeater"},"Pemanas"),h("select",{id:"relayHeater"},h("option",{value:"true"},"Aktif"),h("option",{value:"false"},"Nonaktif")),h("button",null,"Uji")),h("div",{className:"form-group"},h("label",{htmlFor:"relayHumidifier"},"Pelembab"),h("select",{id:"relayHumidifier"},h("option",{value:"true"},"Aktif"),h("option",{value:"false"},"Nonaktif")),h("button",null,"Uji")),h("div",{className:"form-group"},h("label",{htmlFor:"relayTurner"},"Pembalik"),h("select",{id:"relayTurner"},h("option",{value:"true"},"Aktif"),h("option",{value:"false"},"Nonaktif")),h("button",null,"Uji")),h("div",{className:"form-group"},h("label",{htmlFor:"relayFan"},"Kipas"),h("select",{id:"relayFan"},h("option",{value:"true"},"Aktif"),h("option",{value:"false"},"Nonaktif")),h("button",null,"Uji")))))}function Setting(){return h("div",{className:"main-section"},h("h1",null,"Pengaturan"),h("div",{className:"section"},h(SetDatetime),h("spacer"),h(SetIncubator),h("spacer"),h(SetRelay),h("spacer"),h(SetWiFi),h("spacer"),h(SetTelegram),h("spacer"),h(SetGAS),h("spacer"),h(SetChangePassword)))}function AuthForm(){return h("div",{className:"section"},h("div",{className:"card auth"},h("h2",null,"Login"),h("spacer"),h("div",{className:"form-group"},h("label",{htmlFor:"username"},"Nama pengguna"),h("input",{type:"text",id:"username"})),h("div",{className:"form-group"},h("label",{htmlFor:"password"},"Kata Sandi"),h("input",{type:"password",id:"password"})),h("button",null,"Masuk")))}function AppView(){const[e,a]=useState("home");return h("div",{className:"wrapper"},h(Nav,{onNav:function(e){a(e)}}),"home"===e&&h(Home),"setting"===e&&h(Setting),"auth"===e&&h(AuthForm),h(Footer))}